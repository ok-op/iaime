<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoJS Encoder/Decoder</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>

    <h2>üîê JavaScript Encoder/Decoder (CryptoJS)</h2>

    <textarea id="inputCode" placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá JavaScript ‡¶ï‡ßã‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
    
    <br>
    <button onclick="encodeScript()">üîí Encode</button>
    <button onclick="decodeScript()">üîì Decode</button>

    <h3>Encoded/Decoded Output:</h3>
    <textarea id="outputCode" readonly></textarea>

    <script>
        function encodeScript() {
            let inputText = document.getElementById("inputCode").value;

            // CryptoJS ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶®‡¶ï‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
            let encodedText = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(inputText));

            // eval + atob() ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£
            document.getElementById("outputCode").value = `eval(atob("${encodedText}"));`;
        }

        function decodeScript() {
            let encodedText = document.getElementById("outputCode").value;

            // eval(atob("...")) ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ
            let match = encodedText.match(/evalÓÄÅatobÓÄÅ"(.+)"ÓÄÅÓÄÅ;/);

            if (match && match[1]) {
                let decodedText = CryptoJS.enc.Utf8.stringify(CryptoJS.enc.Base64.parse(match[1]));
                document.getElementById("inputCode").value = decodedText;
            } else {
                alert("Invalid encoded format!"); // ‡¶≠‡ßÅ‡¶≤ ‡¶π‡¶≤‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá
            }
        }
    </script>

</body>
</html>
